<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>React and D3: A Tale of Two DOMs</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link rel="stylesheet" href="css/styles.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<div class="flex-container">
					  <div class="flex-item"><img src='images/james-happy.png'/></div>
					  <div>
  						<h2 class="flex-item" width='55%' style='white-space: nowrap'>React and D3</h2>
  						<hr>
						<h4><i>A Tale of Two DOMs</i></h4>
					  </div>
					  <div class="flex-item"><p class='text'><img src='images/bob-happy.png'/></p></div>
					</div>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item"><img src='images/me.png'/></div>
					  <div class="flex-item">
					  	<h4>I am...</h4>
						<p>Danielle Closs</p>
						<p><a href="https://twitter.com/daniellecloss" target="_blank">@daniellecloss</a></p>
						<p><a href="mailto:danielle.c.closs@gmail.com">danielle.c.closs@gmail.com</a></p>
					</div>
					<aside class="notes">
						<ul>
						<li>My name is Danielle</li>
						<li>working as a web UI developer</li>
						<li>in Ann Arbor area for 8 years</li>
						<li>work at Arbor Networks</li>
						<li>on their network visibility product</li>
						<ul>
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>Follow along!</h4>
							<p>code: <a href="http://bit.ly/2mtSyAF" target="_blank">http://bit.ly/2mtSyAF</a></p>
							<p>slides: <a href="http://bit.ly/2mcnNPu" target="_blank">http://bit.ly/2mcnNPu</a></p>
						</div>
					</div>
					<aside class="notes">
						I have the sample code referenced in this presentation, if you want to follow along, or look at it later.
						Also, for the record, this story is a bit "contrived", but hopefully you will play along!
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item"><img src='images/james-waving.png'/></div>
					  <div class="flex-item"><p class='text'>This is James S. Developer,<br>a Javascript developer...</p></div>
					</div>
					<aside class="notes">
						This is James, he is a javascript dev.  He has a client that is bulding a react site for...
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item"><p class='text'>... and this is Bob, his client.<br><br>Bob's company is<br><span>WE MAKE WIDGETS&reg;</span></p></div>
					  <div class="flex-item"><img src='images/bob-happy.png'/></div>
					</div>
					<aside class="notes">
						This is James' client, Bob.  He owns a company that makes widgets, called WE Make Widgets (registered trademark!)
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
					  James is making a React app for Bob...
					  </div>
					  <div class="flex-item">
					  </div>
				  </div>
					<aside class="notes">
						This react app is an app to show off the superior nature of Bob's business, and it has to be flashy!
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
					  	<p>...and Bob wants James to add<br>a data visualization<br>to showcase his sales</p><p>NOW!</p>
					  </div>
					  <div class="flex-item">
					  	<img src='images/bob-mad.png'/>
					  </div>
				  </div>
					<aside class="notes">
						To make the site more flashy, bob wants a data visualization!  Showing his sales!  and he wants it NOW!  (as all clients do!)  I'm sure you are familiar with this scenario...
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
					  	<img src='images/james-thumbs-up.png'/>
				  	  </div>
				      <div class="flex-item">
					  	<p>James tells Bob he will get right on it!<br>He can use D3.js to add the visualization!
					  	<br><br>But, where to begin?</p>
					  </div>
				  </div>
					<aside class="notes">
						James, being the good developer he is, tells Bob he will start on it right away, but this is new territory for James; he has not done a data visualization in a react app before, and he is not sure where to start...
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
						<img src='images/james-sad.png'/>
					  </div>
					  <div class="flex-item">
					  	<p>James is now a bit stressed...<br><br>How should he go about adding<br>a D3 data visualization<br>to his React app?</p>
					  </div>
				  </div>
					<aside class="notes">
						This makes James a bit stressed and frustrated.   But, being the good developer he is, he analyzes the problem, and breaks it down, starting with his questions...
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
						<h4>James has these questions:</h4>
							<ol>
								<li>How would you integrate D3 into a React app?</li>
								<li>Don't they both manipulate the DOM?<br>How can I make sure they don't step on each other?</li>
								<li>Where do I draw the line between what React handles<br>and what D3 handles?</li>
								<li>What are the advantages to using these libraries together?</li>
							</ol>
						</div>
					</div>
					<aside class="notes">
						having asked himself these questions, James decides to start by reviewing his current app, and how it can lend itself to adding a data visualization
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>[STEP 1]: Review your current app</h4>
						</div>
					</div>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<img src="images/partial-app.png" class="code-image"/>
						</div>
					</div>
					<aside class="notes">
						this app has the start of what he needs.  The app has an input form, where the user can enter a year for the sales data he wants to see.  That should help him when he starts adding in the data viz code...
						Let's look at his base react components and app... (switch to code editor and app)
					</aside>
				</section>
				<section>
					<div class="flex-container code">
						<div class="flex-item">
							<h4>Let's look at the code!</h4>
							<p>Step 1 code: <a href="http://bit.ly/2m059I3" target="_blank">http://bit.ly/2m059I3</a></p>
						</div>
					</div>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>[STEP 2]: Get/Find a Standalone D3 Data Visualization</h4>
							<p>Then James looks around online<br>(of course!)<br>to see if he can find an example of <br>a bar chart created with D3</p>
						</div>
					</div>
					<aside class="notes">
						James, like any good developer, hits the servers, and looks around online, to find an example of a D3 bar chart that he can use as an example of the data visualization that he wants in his react app
						Let's look at the example that James found online (switch to code editor and app)
					</aside>
				</section>
				<section>
					<div class="flex-container code">
						<div class="flex-item">
							<h4>Let's look at the code!</h4>
							<p>Step 2 code: <a href="http://bit.ly/2nc1ebw" target="_blank">http://bit.ly/2nc1ebw</a></p>
						</div>
					</div>
					<aside class="notes">
						<a href="file:///Users/daniellecloss/projects/react-d3-dom-code/standalone-d3/index.html">file:///Users/daniellecloss/projects/react-d3-dom-code/standalone-d3/index.html</a>
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>[STEP 3]: Divide the D3 code into components</h4>
							<p>James looks at the D3 code,<br>and he sees these components:</p>
							<ul>
								<li>An X axis</li>
								<li>A Y axis</li>
								<li>The bar chart</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
						James then looks at this D3 code, mentally separating it into components.  This is a "react-y" way of looking at code, and will help James to build the D3 visualization with React components
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<p>While James works to move these D3 components<br>into his React app, he thinks about:</p>
							<ul>
								<li>What should D3 handle, and what should React handle?</li>
								<li>What type of data flow should the I have?</li>
								<li>How should I break up the data visualization into components?</li>
								<li>How should I encapsulate these components?</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
						There are many things to think about when building out the D3 react components, but they are all things you would need to think about when building out any kind of coded components, so, for the most part, this list should look familiar to you
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<p>James codes up his components<br>for his data visualization,<br>and moves them into his React app</p><br>
						</div>
					</div>
					</section>
					<section>
						<div class="flex-container">
							<div class="flex-item">
								<img src="images/full-app.png" class="code-image"/>
							</div>
						</div>
					<aside class="notes">
						Let's take a look at the components that James came up with... (switch to code editor and app)
					</aside>
				</section>
				<section>
					<div class="flex-container code">
						<div class="flex-item">
							<h4>Let's look at the code!</h4>
							<p>Step 3 code: <a href="http://bit.ly/2mz77Cl" target="_blank">http://bit.ly/2mz77Cl</a></p>
						</div>
					</div>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
						<img src='images/james-happy.png'/>
					  </div>
					  <div class="flex-item">
						<p>At this point, James now has a<br>working bar chart in his React app!<br>But, he's not done yet... </p>
					  </div>
					</div>
					<aside class="notes">
						James is almost done!  He has a working data visualization, but he is still missing something...
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>[STEP 4]: Make it interactive!</h4>
							<p>Since James now has the visualization broken up into<br>React components, this part will be easy! Next he needs to:</p>
							<ul>
								<li>Add external sales data</li>
								<li>Use a user selected year for the data</li>
								<li>Send the new data to the BarChart</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
						Because of the work that james already did to put his D3 data visualiztion into react components, adding interactivity is pretty easy...
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<p>Let's take a look at what James has come up with:</p>
							<ul>
								<li>New external json file with monthly sales data</li>
								<li>App: adds code to get the correct sales data, given the year</li>
								<li>BarChart: adds componentWillUpdate, to react to<br>the data prop being updated</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
						Let's take a look at what James has done to finish up the app, and make it fully functional (switch to code editor and app)
					</aside>
				</section>
				<section>
					<div class="flex-container code">
						<div class="flex-item">
							<h4>Let's look at the code!</h4>
							<p>Step 4 code: <a href="http://bit.ly/2mgU9aq" target="_blank">http://bit.ly/2mgU9aq</a></p>
							<p>app: <a href="http://localhost:8081/" target="_blank">http://localhost:8081/</a></p>
						</div>
					</div>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>And done!</h4>
							<p>James now has an interactive D3 data visualization<br>in his React app, which:</p>
							<ul>
								<li>allows a user to look at sales data for different years...</li>
								<li>...and uses the same data visualization components</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
						James is rather proud of his accomplishment at this point, and feels that this is a good base to be able to extend his app in the future...
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
						<img src='images/james-question.png'/>
					  </div>
					  <div class="flex-item">
						<p>James reflects on all his hard work,<br>thinking about the questions<br>he asked earlier</p>
					  </div>
					</div>
					<aside class="notes">
						Let's take a look at what James has learned from this experience...
					</aside>
				</section>
				<section>
					<div class="flex-container key">
						<div class="flex-item">
							<p><i>1. How would you integrate D3 into a React app?</i></p>
							<ul>
								<li>James started by first reviewing his current React app</li>
								<li>He then found a standalone D3 visualization</li>
								<li>He then create React components from the D3 code</li>
								<li>And, then he made the data visualization interactive,<br>using the best parts of React and D3 together</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
						
					</aside>
				</section>
				<section>
					<div class="flex-container key">
						<div class="flex-item">
							<p><i>2. Don't they both manipulate the DOM?<br>How can I make sure they don't step on each other?</i></p>
							<p>Yes, they both manipulate the DOM.<br><br>When used together,<br>you should clearly separate who is doing what,<br>according to what each does best.</p>
						</div>
					</div>
					<aside class="notes">
					
					</aside>
				</section>
				<section>
					<div class="flex-container key">
						<div class="flex-item">
							<p><i>3. Where do I draw the line between what React handles and what D3 handles?</i></p>
							<p>James finds that with most DOM manipulations,<br>you can let React handle it,<br>like when storing data and passing it to components.<br><br>But when it comes to<br>highly complex data viz calculations, leave that to D3.</p>
						</div>
					</div>
					<aside class="notes">
						
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
						<svg width="100%" viewBox="0 0 640 225" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill-opacity=".504" fill="#65D9F9" cx="318" cy="115" r="98" /><circle fill-opacity=".503" fill="#F79E4E" cx="397" cy="115" r="98" /><path d="M357.5 204.428c34.451-15.19 58.5-49.644 58.5-89.714S391.951 40.19 357.5 25C323.049 40.19 299 74.644 299 114.714s24.049 74.523 58.5 89.714z" fill="#FFF" /><circle stroke="#979797" cx="318" cy="115" r="98" /><circle stroke="#979797" cx="397" cy="115" r="98" /><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="342.877" y="108">DOM</tspan> <tspan x="317.472" y="126">Manipulation</tspan></text><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="426" y="59">Math</tspan></text><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="426" y="88">Scales</tspan></text><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="426" y="117">Layouts</tspan></text><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="426" y="146">Utilities</tspan></text><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="426" y="175">Etc.</tspan></text><text font-family="Helvetica" font-size="10" letter-spacing=".056" fill="#000"><tspan x="239.745" y="143">Components</tspan></text><text font-family="Helvetica" font-size="15" letter-spacing=".083" fill="#000"><tspan x="249.32" y="108">Server </tspan> <tspan x="224.036" y="126">Rendering</tspan></text><text font-family="Helvetica" font-size="48" letter-spacing=".267" fill="#000"><tspan x="70.276" y="126">React</tspan></text><text font-family="Helvetica" font-size="48" letter-spacing=".267" fill="#000"><tspan x="517" y="126">d3</tspan></text></g></svg>
						<a href="http://www.macwright.org/2016/10/11/d3-and-react.html" style="font-size:.65em;" target="_blank">http://www.macwright.org/2016/10/11/d3-and-react.html</a>
						</div>
					</div>
				</section>
				<section>
					<div class="flex-container key">
						<div class="flex-item">
							<p><i>4. What are the advantages of using both of these libraries together?</i></p>
							<p>As James is working, he finds out what these are:</p>
							<ul>
								<li>React is faster with DOM manipulation (using it's virtual DOM)</li>
								<li>React is good at handling page/app state</li>
								<li>D3 does a better job at the heavy calculations<br>that are sometimes required for data visualizations,<br>like calculating the scales for a bar chart</li>
							</ul>
						</div>
					</div>
					<aside class="notes">
					
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
						<img src='images/james-thumbs-up.png'/>
					  </div>
					  <div class="flex-item">
						<p>James shows Bob his app,<br>with the new <br>sales bar chart, and<br>Bob is excited!</p>
					  </div>
					  <div class="flex-item">
						<img src='images/bob-thumbs-up.png'/>
					  </div>
					</div>
					<aside class="notes">
						Bob likes it!  So much so...
					</aside>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<p>Bob just has one question,<br><br>"Can we make another page with a pie chart??"</p>
						</div>
					</div>
					<aside class="notes">
						That he wants another data visualization in his site!!!
					</aside>
				</section>
				<section>
					<div class="flex-container">
					  <div class="flex-item">
					  	<img src='images/james-vacation.png'/>
					  </div>
					  <div class="flex-item">
						<p>James politely excuses himself,<br>and decides that a vacation is long overdue!</p>
					  </div>
				</section>
				<section>
					<div class="flex-container">
						<div class="flex-item">
							<h4>Thanks for listening!</h4>
							<p>code: <a href="http://bit.ly/2mtSyAF" target="_blank">http://bit.ly/2mtSyAF</a></p>
							<p>slides: <a href="http://bit.ly/2mcnNPu" target="_blank">http://bit.ly/2mcnNPu</a></p>
							<br>
							<p><a href="https://twitter.com/daniellecloss" target="_blank">@daniellecloss</a></p>
							<p><a href="mailto:danielle.c.closs@gmail.com">danielle.c.closs@gmail.com</a></p>
						</div>
					</div>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,
				center:false,
				width: "100%",
			    height: "100%",
			    margin: 0,
			    minScale: 1,
			    maxScale: 1,
				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
